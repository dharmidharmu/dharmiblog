<% layout('layouts/boilerplate')%>


 <div class="container h">
      <div class="d-flex  " >
		  <form action="/posts" method="GET"  >
        <div class="searchbar">
			
          <input class="search_input" type="text" name="q" placeholder="Search..." required>
          <button class="search_icon btn-success"><i class="fas fa-search"></i></button>
			</div>
			</form>
        
      </div>
    </div>

<h1 class="mt-3">All Posts</h1>
<div class="mb-3">
    <a class="btn btn-primary" href="/posts/new">Add Post</a>
</div>
<% for (let post of posts){%>

<div class="card mb-3 hoverbg" >
    <div class="row">
        <div class="col-md-4">
			<%  if(post.images.length) { %>
			<img class="img-fluid" alt="" src="<%=post.images[0].url%>" width="100%" height="100%">
			
		<% } else{ %>
			<img class="img-fluid" alt="" src="https://media.istockphoto.com/photos/technical-support-concept-maintenance-sign-wrench-and-srewdriver-picture-id1199145131?k=6&m=1199145131&s=612x612&w=0&h=xYthVCXbgf82D551ZBpuau05UXVZobGlf2Wdcu_uAXI=" width="100%" height="100%">
			<% } %>
        </div>
        <div class="col-md-8">
            <div class="card-body">
                <h5 class="card-title"><%= post.title %> </h5>
                <p class="card-text" style="overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
"><%= post.content %></p>
                <p class="card-text">
                    <small class="text-muted"><%= post.technology%></small>
                </p>
                <a class="btn btn-primary stretched-link" href="/posts/<%=post._id%>">View</a>
            </div>
        </div>
    </div>
</div>

<% }%>

<style>
	 .searchbar{
    
    height: 60px;
    background-color: #353b48;
    border-radius: 30px;
    padding: 10px;
    }

    .search_input{
    color: white;
    border: 0;
    outline: 0;
    background: none;
    width: 0;
    caret-color:transparent;
    line-height: 40px;
    transition: width 0.4s linear;
    }

    .searchbar:hover > .search_input{
    padding: 0 10px;
    width: 250px;
    caret-color:red;
    transition: width 0.4s linear;
    }

    .searchbar:hover > .search_icon{
    background: white;
    color: #e74c3c;
		
		
    }

    .search_icon{
    height: 40px;
    width: 40px;
    float: right;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    color:white;
    text-decoration:none;
    }
</style>
		
		
	
